<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ollama Â· å¯¹è¯ç•Œé¢</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- å·¦ä¾§é…ç½®é¢æ¿ -->
        <aside class="config-panel">
            <div class="panel-header">
                <h2>âš™ï¸ æ¨¡å‹é…ç½®</h2>
                <button class="btn btn-sm" id="saveConfigBtn" title="ä¿å­˜é…ç½®åˆ° localStorage">ğŸ’¾ ä¿å­˜</button>
            </div>
            <div class="panel-section">
                <label>æ¨¡å‹åç§°</label>
                <input type="text" id="modelName" placeholder="llama3.2, mistral, ..." value="llama3.2">
            </div>
            <div class="panel-section">
                <label>ç³»ç»Ÿæç¤ºè¯</label>
                <textarea id="systemPrompt" rows="3" placeholder="ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹â€¦â€¦"></textarea>
            </div>
            <div class="panel-section collapsible">
                <div class="section-header" data-target="paramsBlock">
                    <span>é«˜çº§å‚æ•°</span>
                    <span class="chevron">â–¼</span>
                </div>
                <div class="params-grid" id="paramsBlock">
                    <label>temperature <input type="number" id="temperature" step="0.1" min="0" max="2" value="0.8"></label>
                    <label>top_p <input type="number" id="top_p" step="0.1" min="0" max="1" value="0.9"></label>
                    <label>top_k <input type="number" id="top_k" min="0" value="40"></label>
                    <label>num_predict <input type="number" id="num_predict" min="-1" value="-1" title="-1 è¡¨ç¤ºæ— é™"></label>
                    <label>seed <input type="number" id="seed" placeholder="éšæœº"></label>
                    <label>stop (é€—å·åˆ†éš”) <input type="text" id="stop" placeholder="user:, assistant:"></label>
                    <label>repeat_penalty <input type="number" id="repeat_penalty" step="0.1" min="0" value="1.1"></label>
                    <label>presence_penalty <input type="number" id="presence_penalty" step="0.1" min="-2" max="2" value="0"></label>
                    <label>frequency_penalty <input type="number" id="frequency_penalty" step="0.1" min="-2" max="2" value="0"></label>
                    <label>mirostat <select id="mirostat"><option value="0">0 ç¦ç”¨</option><option value="1">1</option><option value="2">2</option></select></label>
                    <label>mirostat_tau <input type="number" id="mirostat_tau" step="0.1" min="0" value="5.0"></label>
                    <label>mirostat_eta <input type="number" id="mirostat_eta" step="0.1" min="0" value="0.1"></label>
                    <label>num_ctx <input type="number" id="num_ctx" min="0" value="2048"></label>
                    <label>num_batch <input type="number" id="num_batch" min="0" value="512"></label>
                    <label>num_gpu <input type="number" id="num_gpu" min="-1" value="1"></label>
                    <label>main_gpu <input type="number" id="main_gpu" min="0" value="0"></label>
                    <label>low_vram <input type="checkbox" id="low_vram"></label>
                    <label>use_mmap <input type="checkbox" id="use_mmap" checked></label>
                    <label>use_mlock <input type="checkbox" id="use_mlock"></label>
                    <label>num_thread <input type="number" id="num_thread" min="0" value="0" title="0 è¡¨ç¤ºè‡ªåŠ¨"></label>
                </div>
            </div>
            <div class="panel-section">
                <button class="btn btn-primary" id="newChatBtn">â• æ–°å¯¹è¯</button>
            </div>
        </aside>

        <!-- å³ä¾§èŠå¤©åŒºåŸŸ -->
        <main class="chat-area">
            <div class="chat-header">
                <div class="chat-title">Ollama èŠå¤© Â· æµå¼å“åº”</div>
                <div class="connection-status" id="connectionStatus">âšª æœªè¿æ¥</div>
            </div>
            <div class="message-list" id="messageList">
                <!-- æ¶ˆæ¯ä¼šåŠ¨æ€æ’å…¥ -->
            </div>
            <div class="input-area">
                <textarea id="userInput" placeholder="è¾“å…¥æ¶ˆæ¯... (Shift+Enter æ¢è¡Œ, Enter å‘é€)" rows="1"></textarea>
                <button class="send-btn" id="sendBtn" disabled>å‘é€</button>
            </div>
        </main>
    </div>
    <script src="app.js"></script>
</body>
</html>